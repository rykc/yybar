function yybar(a,b){"undefined"==typeof b&&(b={});const c={progressTextColor:"#ffff00",foreBarColor:"#888888",backBarColor:"#000000",descColor:"#ffffff",progressText:"Reading progress...",desc:"",fontFamily:"Arial",fontSize:"13px",height:"30px",position:"top",autoHide:!1};let d=document.getElementById(a)||null;if(d){function a(){var a=f(),c=document.body;return 100*((a.scrollTop||c.scrollTop)/((a.scrollHeight||c.scrollHeight)-a.clientHeight))}function f(a=!1){const c=b.target||null;if(c){const b=document.getElementById(c);return b?b:(console.error("target DOM elemnet is not defined."),a?window:document.documentElement)}return a?window:document.documentElement}function g(){(function(c){var e=Math.round;if(k.style.width=a()+"%",m.innerHTML=e(a())+"%",b.autoHide){var g=f().pageYOffset||document.documentElement.scrollTop;d.style.visibility=g>c.lastScrollTop?"visible":"hidden",c.lastScrollTop=0>=g?0:g}})(o)}function h({event:a,elem:b}){b.addEventListener("scroll",g),a.removeScroll=function(){b.removeEventListener("scroll",g),j()}}function i(a){const b=f(),c=a.clientX/d.clientWidth*(b.scrollHeight-b.clientHeight);f(!0).scrollTo(0,c)}function j(){d.innerHTML="",d.removeAttribute("style")}d.innerHTML="      <div class=\"yybar-fore-bar\"></div>      <div class=\"yybar-progress-text\" style=\"z-index:2;\"></div>      <div class=\"yybar-progress-text-value\"></div>      <div class=\"yybar-desc\"></div>    ",d.style.position="fixed",d.style.left="0px",d.style.width="100%",d.style.cursor="pointer",d.style["-webkit-touch-callout"]="none",d.style["-webkit-user-select"]="none",d.style["-khtml-user-select"]="none",d.style["-moz-user-select"]="none",d.style["-ms-user-select"]="none",d.style["user-select"]="none",d.style.backgroundColor=b.backBarColor||c.backBarColor,d.style.color=b.progressTextColor||c.progressTextColor,d.style.fontFamily=c.fontFamily,d.style.fontSize=c.fontSize,d.style.height=("number"==typeof b.height?b.height+"px":b.height)||c.height,d.style["top"==(b.position||c.position)?"top":"bottom"]=0;const k=d.getElementsByClassName("yybar-fore-bar")[0];k.style.backgroundColor=b.foreBarColor||c.foreBarColor,k.style.zIndex=1,k.style.position="absolute",k.style.bottom=0,k.style.left=0,k.style.height="100%";const l=d.getElementsByClassName("yybar-progress-text")[0];l.style.position="relative",l.style.zIndex=2,l.style.display="inline-block",l.style.top="3px",l.style.left="5px",l.innerHTML=b.progressText||c.progressText;const m=d.getElementsByClassName("yybar-progress-text-value")[0];m.style.position="relative",m.style.zIndex=2,m.style.display="inline-block",m.style.top="3px",m.style.left="5px";const n=d.getElementsByClassName("yybar-desc")[0];n.style.position="absolute",n.style.zIndex=2,n.style.display="inline-block",n.style.top="20px",n.style.left="5px",n.style.color=b.descColor||c.descColor,n.innerHTML=b.desc||c.desc;let o={};o.lastScrollTop=0,d.addEventListener("click",function(a){const b=f(),c=a.clientX/d.clientWidth*(b.scrollHeight-b.clientHeight);f(!0).scrollTo(0,c)}),d.addEventListener("mousedown",function(){this.addEventListener("mousemove",i)}),d.addEventListener("mouseup",function(){this.removeEventListener("mousemove",i)}),"ontouchmove"in window&&(d.ontouchmove=function(a){a.preventDefault();var b=a.changedTouches;const c=f(),e=b[0].clientX/d.clientWidth*(c.scrollHeight-c.clientHeight);f(!0).scrollTo(0,e)});let p={};(function(a){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(a,1):document.addEventListener("DOMContentLoaded",a)})(function(){h({elem:f(!0),event:p})})}else console.error("yybar DOM element is not defined.");return{dispose:function(){event.removeScroll()}}}export default yybar;
